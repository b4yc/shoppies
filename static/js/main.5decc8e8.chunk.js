(this.webpackJsonpshoppies=this.webpackJsonpshoppies||[]).push([[0],{149:function(e,t,c){},150:function(e,t,c){},153:function(e,t,c){},160:function(e,t,c){},161:function(e,t,c){},163:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),i=c(49),r=c.n(i),o=(c(149),c(25)),s=(c(150),c(151),c(183)),l=c(185),j=c(184),d=c(133),b=c(132),u=[],h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return JSON.parse(localStorage.getItem("localCart"))||e},O=function(e,t){switch(t.type){case"ADD_TO_CART":return[].concat(Object(b.a)(e),[Object(d.a)({},t.item)]);case"REMOVE_FROM_CART":return e.filter((function(e){return e!==t.item}));case"CLEAR_CART":return localStorage.removeItem("localCart"),u;default:return e}},x=c(5),g=Object(n.createContext)(),m=function(e){var t=e.children,c=Object(n.useReducer)(O,[],h),a=Object(o.a)(c,2),i=a[0],r=a[1];return Object(n.useEffect)((function(){localStorage.setItem("localCart",JSON.stringify(i))}),[i]),Object(x.jsx)(g.Provider,{value:{cart:i,dispatch:r},children:t})},f=c(181),v=c(76),p=(c(153),function(e){var t=e.toggle;return Object(x.jsxs)(s.a,{columns:2,className:"header",children:[Object(x.jsx)(s.a.Column,{floated:"left",children:Object(x.jsx)("img",{src:"shoppies-logo.png",alt:"logo",className:"logo"})}),Object(x.jsx)(s.a.Column,{floated:"right",children:Object(x.jsx)("div",{children:Object(x.jsxs)(f.a,{icon:!0,labelPosition:"right",animated:"vertical",floated:"right",size:"large",onClick:function(e,c){t()},style:{backgroundColor:"#084c44",color:"white",padding:"10px"},children:["Your Nominations",Object(x.jsx)(v.a,{name:"heart"})]})})})]})}),C=c(177),y=c(175),w=c(187),R=c(180),k=c(179),N=(c(160),function(e){var t=e.movies,c=e.toggle,a=Object(n.useContext)(g),i=a.cart,r=a.dispatch,s=Object(n.useState)(!1),l=Object(o.a)(s,2),j=l[0],d=l[1],b=Object(n.useState)(),u=Object(o.a)(b,2),h=u[0],O=u[1];return Object(x.jsxs)("div",{children:[Object(x.jsx)(R.a.Group,{centered:"true",className:"movies",children:t.map((function(e){var t=i.filter((function(t){return t.Title===e.Title})).length>0;return Object(x.jsxs)(R.a,{style:{width:"200px"},children:["N/A"===e.Poster?Object(x.jsx)("div",{className:"poster-not-found",children:"Poster not found"}):Object(x.jsx)("img",{src:e.Poster,className:"poster"}),Object(x.jsxs)(R.a.Content,{children:[Object(x.jsx)(R.a.Header,{children:e.Title}),Object(x.jsx)(R.a.Meta,{children:Object(x.jsx)("span",{className:"date",children:e.Year})}),Object(x.jsx)(R.a.Description,{children:e.Plot})]}),Object(x.jsxs)(f.a,{animated:"vertical",disabled:t,onClick:function(){return function(e){if(4==i.length)O("You have successfully nominated 5 movies."),d(!0);else if(i.length>=5)return O("You have nominated 5 movies already! If you'd like to add another, please remove an existing one."),void d(!0);r({type:"ADD_TO_CART",item:e})}(e)},style:{backgroundColor:"#084c44",color:"white"},children:[Object(x.jsx)(f.a.Content,{hidden:!0,children:"Nominate"}),t?Object(x.jsx)(f.a.Content,{visible:!0,children:"Nominated"}):Object(x.jsx)(f.a.Content,{visible:!0,children:Object(x.jsx)(v.a,{name:"heart"})})]})]})}))}),Object(x.jsxs)(k.a,{size:"small",open:j,onClose:function(){return d(!1)},children:[Object(x.jsx)(k.a.Header,{children:"Your 5 movies have been nominated!"}),Object(x.jsx)(k.a.Content,{children:h}),Object(x.jsxs)(k.a.Actions,{children:[Object(x.jsx)(f.a,{onClick:function(){return d(!1)},children:"Close"}),Object(x.jsx)(f.a,{onClick:function(){d(!1),c()},children:"View Nominations"})]})]})]})}),S=(c(161),function(e){var t=e.toggle,c=Object(n.useState)(!1),a=Object(o.a)(c,2),i=a[0],r=a[1],l=Object(n.useState)([]),j=Object(o.a)(l,2),d=j[0],b=j[1],u=Object(n.useState)(""),h=Object(o.a)(u,2),O=h[0],g=h[1],m=Object(n.useState)(0),v=Object(o.a)(m,2),p=v[0],R=v[1];return Object(x.jsxs)("div",{className:"main",children:[Object(x.jsx)("h1",{children:"Find your favourite movies to nominate"}),Object(x.jsx)(C.a,{onSubmit:function(e){e.preventDefault(),r(!0),fetch("https://www.omdbapi.com/?s=".concat(O,"&type=movie&apikey=91b0581c")).then((function(e){return e.json()})).then((function(e){b(e.Search),R(parseInt(e.totalResults)),r(!1)}))},loading:i,className:"searchbar",children:Object(x.jsx)(C.a.Input,{action:Object(x.jsx)(f.a,{color:"teal",icon:"search",type:"submit",style:{backgroundColor:"#084c44"}}),actionPosition:"right",placeholder:"Search for a Movie...",value:O,onChange:function(e){g(e.target.value)},size:"large"})}),Object(x.jsx)("br",{}),Object(x.jsx)(y.a,{textAlign:"center",children:d&&d.length>0?Object(x.jsxs)(s.a,{centered:!0,children:[Object(x.jsx)(s.a.Row,{children:Object(x.jsxs)(s.a.Column,{children:[Object(x.jsx)(s.a.Row,{children:Object(x.jsxs)("p",{children:["Found ",p," Movies"]})}),Object(x.jsx)(s.a.Row,{children:Object(x.jsx)(N,{movies:d,toggle:t})})]})}),Object(x.jsx)(s.a.Row,{children:Object(x.jsx)(w.a,{defaultActivePage:1,totalPages:Math.ceil(p/10),onPageChange:function(e,t){var c;c=t.activePage,r(!0),fetch("https://www.omdbapi.com/?s=".concat(O,"&page=").concat(c,"&type=movie&apikey=91b0581c")).then((function(e){return e.json()})).then((function(e){console.log(e),b(e.Search),r(!1)}))}})})]}):d?null:Object(x.jsx)("div",{children:"Sorry! No results were found."})})]})}),A=function(){var e=Object(n.useContext)(g),t=e.cart,c=e.dispatch;return Object(x.jsx)(R.a.Group,{centered:!0,children:t.map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)("br",{}),Object(x.jsxs)(R.a,{style:{width:"200px",backgroundColor:"#fcfcec"},children:[Object(x.jsxs)(R.a.Content,{children:[Object(x.jsx)(R.a.Header,{children:e.Title}),Object(x.jsx)(R.a.Meta,{children:Object(x.jsx)("span",{className:"date",children:e.Year})})]}),Object(x.jsxs)(f.a,{animated:"vertical",onClick:function(){return c({type:"REMOVE_FROM_CART",item:e})},style:{backgroundColor:"#e6e6d5"},children:[Object(x.jsx)(f.a.Content,{hidden:!0,children:"Remove"}),Object(x.jsx)(f.a.Content,{visible:!0,children:Object(x.jsx)(v.a,{name:"trash"})})]})]})]})}))})},P=c(176),T=function(e){var t=e.toggle,c=Object(n.useContext)(g),a=c.cart,i=c.dispatch;return Object(x.jsxs)("div",{"data-testid":"cart",children:[Object(x.jsx)(f.a,{icon:!0,onClick:t,size:"huge",style:{backgroundColor:"inherit",margin:"20px"},children:Object(x.jsx)(v.a,{name:"x"})}),Object(x.jsx)(P.a,{}),Object(x.jsx)(f.a,{disabled:0==a.length,onClick:function(e){i({type:"CLEAR_CART"})},style:{width:"200px",backgroundColor:"#fcfcec"},children:"Clear All Nominations"}),Object(x.jsx)(P.a,{}),Object(x.jsx)(A,{})]})};var M=function(){var e=Object(n.useContext)(g),t=(e.cart,e.dispatch,Object(n.useState)(!1)),c=Object(o.a)(t,2),a=c[0],i=c[1];function r(){i(!a)}return Object(x.jsx)("div",{children:Object(x.jsx)(s.a,{columns:1,children:Object(x.jsx)(s.a.Column,{children:Object(x.jsxs)(l.a.Pushable,{children:[Object(x.jsx)(l.a,{as:j.a,animation:"overlay",direction:"right",icon:"labeled",inverted:!0,onHide:function(){return i(!1)},vertical:!0,visible:a,width:"large",style:{backgroundColor:"#084c44"},children:Object(x.jsx)(T,{toggle:r})}),Object(x.jsx)(l.a.Pusher,{dimmed:a,children:Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(s.a,{children:Object(x.jsxs)(s.a.Column,{children:[Object(x.jsx)(s.a.Row,{children:Object(x.jsx)(p,{toggle:r})}),Object(x.jsx)(s.a.Row,{children:Object(x.jsx)(S,{toggle:r})})]})})})})]})})})})},_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,188)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),i(e),r(e)}))};c(162);r.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(m,{children:Object(x.jsx)(M,{})})}),document.getElementById("root")),_()}},[[163,1,2]]]);
//# sourceMappingURL=main.5decc8e8.chunk.js.map