(this.webpackJsonpshoppies=this.webpackJsonpshoppies||[]).push([[0],{149:function(e,t,c){},150:function(e,t,c){},152:function(e,t,c){},160:function(e,t,c){},161:function(e,t,c){},163:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),i=c(49),s=c.n(i),r=(c(149),c(25)),o=(c(150),c(151),c(183)),l=c(185),j=c(184),d=c(181),b=c(76),u=(c(152),c(5)),h=function(e){var t=e.toggle;return Object(u.jsxs)(o.a,{columns:2,className:"header",children:[Object(u.jsx)(o.a.Column,{floated:"left",children:Object(u.jsx)("img",{"data-testid":"logo",src:"shoppies-logo.png",alt:"logo",className:"logo"})}),Object(u.jsx)(o.a.Column,{floated:"right",children:Object(u.jsx)("div",{children:Object(u.jsxs)(d.a,{"data-testid":"nom-button",icon:!0,labelPosition:"right",animated:"vertical",floated:"right",size:"large",onClick:function(e,c){t()},style:{backgroundColor:"#084c44",color:"white",padding:"10px"},children:["Your Nominations",Object(u.jsx)(b.a,{name:"heart"})]})})})]})},O=c(177),x=c(175),m=c(187),g=c(133),f=c(132),v=[],p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return JSON.parse(localStorage.getItem("localCart"))||e},C=function(e,t){switch(t.type){case"ADD_TO_CART":return[].concat(Object(f.a)(e),[Object(g.a)({},t.item)]);case"REMOVE_FROM_CART":return e.filter((function(e){return e!==t.item}));case"CLEAR_CART":return localStorage.removeItem("localCart"),v;default:return e}},y=Object(n.createContext)(),w=function(e){var t=e.children,c=Object(n.useReducer)(C,[],p),a=Object(r.a)(c,2),i=a[0],s=a[1];return Object(n.useEffect)((function(){localStorage.setItem("localCart",JSON.stringify(i))}),[i]),Object(u.jsx)(y.Provider,{value:{cart:i,dispatch:s},children:t})},R=c(180),k=c(179),N=(c(160),function(e){var t=e.movies,c=e.toggle,a=Object(n.useContext)(y),i=a.cart,s=a.dispatch,o=Object(n.useState)(!1),l=Object(r.a)(o,2),j=l[0],h=l[1],O=Object(n.useState)(),x=Object(r.a)(O,2),m=x[0],g=x[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)(R.a.Group,{centered:!0,className:"movies",children:t.map((function(e){var t=i.filter((function(t){return t.imdbID===e.imdbID})).length>0;return Object(u.jsxs)(R.a,{style:{width:"200px"},children:["N/A"===e.Poster?Object(u.jsx)("div",{className:"poster-not-found",children:"Poster not found"}):Object(u.jsx)("img",{src:e.Poster,className:"poster",alt:"movie poster"}),Object(u.jsxs)(R.a.Content,{children:[Object(u.jsx)(R.a.Header,{"data-testid":"title",children:e.Title}),Object(u.jsx)(R.a.Meta,{"data-testid":"year",children:Object(u.jsx)("span",{className:"date",children:e.Year})})]}),Object(u.jsxs)(d.a,{animated:"vertical",disabled:t,onClick:function(){return function(e){if(4===i.length)g("You have successfully nominated 5 movies."),h(!0);else if(i.length>=5)return g("You have nominated 5 movies already! If you'd like to add another, please remove an existing one."),void h(!0);s({type:"ADD_TO_CART",item:e})}(e)},style:{backgroundColor:"#084c44",color:"white"},children:[Object(u.jsx)(d.a.Content,{hidden:!0,children:"Nominate"}),t?Object(u.jsx)(d.a.Content,{visible:!0,children:"Nominated"}):Object(u.jsx)(d.a.Content,{visible:!0,children:Object(u.jsx)(b.a,{name:"heart"})})]})]},e.imdbID)}))}),Object(u.jsxs)(k.a,{size:"small",open:j,onClose:function(){return h(!1)},children:[Object(u.jsx)(k.a.Header,{children:"Your 5 movies have been nominated!"}),Object(u.jsx)(k.a.Content,{children:m}),Object(u.jsxs)(k.a.Actions,{children:[Object(u.jsx)(d.a,{onClick:function(){return h(!1)},children:"Close"}),Object(u.jsx)(d.a,{onClick:function(){h(!1),c()},children:"View Nominations"})]})]})]})}),S=(c(161),function(e){var t=e.toggle,c=Object(n.useState)(!1),a=Object(r.a)(c,2),i=a[0],s=a[1],l=Object(n.useState)([]),j=Object(r.a)(l,2),b=j[0],h=j[1],g=Object(n.useState)(""),f=Object(r.a)(g,2),v=f[0],p=f[1],C=Object(n.useState)(0),y=Object(r.a)(C,2),w=y[0],R=y[1];return Object(u.jsxs)("div",{className:"main",children:[Object(u.jsx)("h1",{children:"Find your favourite movies to nominate"}),Object(u.jsx)(O.a,{onSubmit:function(e){e.preventDefault(),s(!0),fetch("https://www.omdbapi.com/?s=".concat(v,"&type=movie&apikey=91b0581c")).then((function(e){return e.json()})).then((function(e){h(e.Search),R(parseInt(e.totalResults)),s(!1)}))},loading:i,className:"searchbar",children:Object(u.jsx)(O.a.Input,{action:Object(u.jsx)(d.a,{color:"teal",icon:"search",type:"submit",style:{backgroundColor:"#084c44"}}),placeholder:"Search for a Movie...",value:v,onChange:function(e){p(e.target.value)},size:"large"})}),Object(u.jsx)("br",{}),Object(u.jsx)(x.a,{textAlign:"center",children:b&&b.length>0?Object(u.jsxs)(o.a,{centered:!0,children:[Object(u.jsx)(o.a.Row,{children:Object(u.jsxs)(o.a.Column,{children:[Object(u.jsx)(o.a.Row,{children:Object(u.jsxs)("p",{children:["Found ",w," Movies"]})}),Object(u.jsx)(o.a.Row,{children:Object(u.jsx)(N,{movies:b,toggle:t})})]})}),Object(u.jsx)(o.a.Row,{children:Object(u.jsx)(m.a,{defaultActivePage:1,totalPages:Math.ceil(w/10),onPageChange:function(e,t){var c;c=t.activePage,s(!0),fetch("https://www.omdbapi.com/?s=".concat(v,"&page=").concat(c,"&type=movie&apikey=91b0581c")).then((function(e){return e.json()})).then((function(e){h(e.Search),s(!1)}))}})})]}):b?null:Object(u.jsx)("div",{children:"Sorry! No results were found."})})]})}),A=function(){var e=Object(n.useContext)(y),t=e.cart,c=e.dispatch;return Object(u.jsx)(R.a.Group,{centered:!0,children:t.map((function(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)("br",{}),Object(u.jsxs)(R.a,{style:{width:"200px",backgroundColor:"#fcfcec"},children:[Object(u.jsxs)(R.a.Content,{children:[Object(u.jsx)(R.a.Header,{"data-testid":"title",children:e.Title}),Object(u.jsx)(R.a.Meta,{"data-testid":"year",children:Object(u.jsx)("span",{className:"date",children:e.Year})})]}),Object(u.jsxs)(d.a,{"data-testid":"remove-button",animated:"vertical",onClick:function(){return c({type:"REMOVE_FROM_CART",item:e})},style:{backgroundColor:"#e6e6d5"},children:[Object(u.jsx)(d.a.Content,{hidden:!0,children:"Remove"}),Object(u.jsx)(d.a.Content,{visible:!0,children:Object(u.jsx)(b.a,{name:"trash"})})]})]})]})}))})},P=c(176),T=function(e){var t=e.toggle,c=Object(n.useContext)(y),a=c.cart,i=c.dispatch;return Object(u.jsxs)("div",{"data-testid":"cart",children:[Object(u.jsx)(d.a,{"data-testid":"close-button",icon:!0,onClick:t,size:"huge",style:{backgroundColor:"inherit",margin:"20px"},children:Object(u.jsx)(b.a,{name:"x"})}),Object(u.jsx)(P.a,{}),Object(u.jsx)(d.a,{"data-testid":"clear-button",disabled:0===a.length,onClick:function(e){i({type:"CLEAR_CART"})},style:{width:"200px",backgroundColor:"#fcfcec"},children:"Clear All Nominations"}),Object(u.jsx)(P.a,{}),Object(u.jsx)(A,{})]})};var I=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),c=t[0],a=t[1];function i(){a(!c)}return Object(u.jsx)("div",{children:Object(u.jsx)(o.a,{columns:1,children:Object(u.jsx)(o.a.Column,{children:Object(u.jsxs)(l.a.Pushable,{children:[Object(u.jsx)(l.a,{as:j.a,animation:"overlay",direction:"right",icon:"labeled",inverted:!0,onHide:function(){return a(!1)},vertical:!0,visible:c,width:"wide",style:{backgroundColor:"#084c44"},children:Object(u.jsx)(T,{toggle:i})}),Object(u.jsx)(l.a.Pusher,{dimmed:c,children:Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(o.a,{children:Object(u.jsxs)(o.a.Column,{children:[Object(u.jsx)(o.a.Row,{"data-testid":"header",children:Object(u.jsx)(h,{toggle:i})}),Object(u.jsx)(o.a.Row,{"data-testid":"search",children:Object(u.jsx)(S,{toggle:i})})]})})})})]})})})})},M=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,188)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),i(e),s(e)}))};c(162);s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(w,{children:Object(u.jsx)(I,{})})}),document.getElementById("root")),M()}},[[163,1,2]]]);
//# sourceMappingURL=main.6e0082a9.chunk.js.map